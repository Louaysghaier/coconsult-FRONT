
<!doctype html>
<html lang="en">
<head>
  <base href="/">
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>COCONSULT</title>
  <!-- Favicon -->
  <link href="#" rel="icon" type="image/png">
  <!-- Fonts -->
  <!--<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet">-->
  <!-- Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">

  <script src="https://unpkg.com/@zegocloud/zego-uikit-prebuilt/zego-uikit-prebuilt.js"></script>

  <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
  <link href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,700,300|Material+Icons' rel='stylesheet' type='text/css'>
    <script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=YOUR-KEY-HERE"></script>
    <script>window.global = window;</script>
   
   
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body class="mat-typography">
  <app-root></app-root>
</body>
<script>
  window.onload = function () {
      function getUrlParams(url) {
          let urlStr = url.split('?')[1];
          const urlSearchParams = new URLSearchParams(urlStr);
          const result = Object.fromEntries(urlSearchParams.entries());
          return result;
      }


      // Generate a Token by calling a method.
      // @param 1: appID
      // @param 2: serverSecret
      // @param 3: Room ID
      // @param 4: User ID
      // @param 5: Username
      const roomID = getUrlParams(window.location.href)['roomID'] || (Math.floor(Math.random() * 10000) + "");
      const userID = Math.floor(Math.random() * 10000) + "";
      const userName = "userName" + userID;
      const appID = 1414491476;
      const serverSecret = "446f3f3021a29587c63ab265319e3a42";
      const kitToken = ZegoUIKitPrebuilt.generateKitTokenForTest(appID, serverSecret, roomID, userID, userName);


      const zp = ZegoUIKitPrebuilt.create(kitToken);
      zp.joinRoom({
          container: document.querySelector("#root"),
          sharedLinks: [{
              name: 'Personal link',
              url: window.location.protocol + '//' + window.location.host  + window.location.pathname + '?roomID=' + roomID,
          }],
          scenario: {
              mode: ZegoUIKitPrebuilt.VideoConference,
          },

          turnOnMicrophoneWhenJoining: true,
          turnOnCameraWhenJoining: true,
          showMyCameraToggleButton: true,
          showMyMicrophoneToggleButton: true,
          showAudioVideoSettingsButton: true,
          showScreenSharingButton: true,
          showTextChat: true,
          showUserList: true,
          maxUsers: 2,
          layout: "Auto",
          showLayoutButton: false,

      });
  }
</script>
</head>
<body class="mat-typography">
  <app-root></app-root>
</body>
</html>

</html>
